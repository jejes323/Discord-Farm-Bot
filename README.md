# 🌾 디스코드 농사 봇 (Discord Farming Bot)
사용자들이 밭을 구매하고, 씨앗을 심고, 작물을 키워 수익을 얻는 **인터랙티브 농사 미니게임** 봇입니다.

버튼 기반 UI, 자동 수확 시스템, 이미지 기반 프로필 카드 등 다양한 기능을 제공합니다.

## 🧱 프로젝트 구조
```
📁 project/
│
├── index.js                # 봇 실행 파일
│
├── commands/               # Slash 명령어 모음
│   ├── menu.js             # /메뉴 (메인 UI)
│   ├── money.js            # /돈지급 (관리자 명령어)
│   └── ...                 
│
├── modules/                # 기능 모듈
│   ├── farming/            # 농사 시스템
│   │   ├── startFarm.js
│   │   ├── checkFarm.js
│   │   ├── autoHarvest.js
│   │   └── farmUtils.js
│   │
│   ├── shop/               # 상점 시스템
│   │   ├── buyField.js
│   │   └── shopUtils.js
│   │
│   └── user/               # 유저 정보 처리
│       ├── getUserInfo.js
│       └── updateUser.js
│
├── utils/
│   ├── embed.js            # 공통 임베드 템플릿
│   ├── buttons.js          # 공통 버튼 생성
│   ├── imageGenerator.js   # 프로필 이미지 렌더링(canvas)
│   └── time.js             # 쿨타임 계산
│
├── database/
│   ├── db.js               # DB 연결
│   └── models/             # DB 모델
│       ├── User.js
│       ├── Field.js
│       └── Seed.js
│
├── assets/
│   ├── fonts/              # 이미지 렌더링용 폰트
│   └── images/             # UI 이미지, 아이콘
│
├── config.json             # 환경설정 (토큰, DB정보 등)
└── package.json
```

## 🛠 기술 스택
- Node.js — 메인 런타임
- discord.js v14 — 디스코드 봇 フ레임워크
- Canvas / @napi-rs/canvas
  - 사용자 내정보 이미지 카드 생성
  - 프로필 사진 렌더링 및 그라데이션/도형 그리기

## 🚀 주요 기능
### 🌱 농사 시스템
주요 기능
- 밭 1~5 선택 가능
  - 밭 보유 여부에 따라 버튼 활성화/비활성화
- 씨앗 선택
  - 보유 씨앗 없음 → 오류 메시지
- 쿨타임 시스템
  - 밭에 작물을 심으면 성장 쿨타임 적용
  - 남은 시간 확인 가능
- 자동 수확
  - 봇이꺼져도 DB에 쿨타임 저장
  - 쿨타임 도달 시 개인 메시지로 자동 알림
  - 획득 골드
  - 경험치
  - 기타 보상

### 🛒 상점 시스템
- 밭 구매 가능
- 밭 가격은 구매할수록 증가

## ⚙️ 설치 및 실행
```
git clone https://github.com/your-repo/farming-bot.git
cd farming-bot
npm install
node index.js
```

## 📅 추후 업데이트 예정
- 상점 기능 추가
- 레벨업 시스템

## 📅 업데이트 로그

2025.11.26
- /메뉴 명령어를 통해 메인 임베드 생성
  - 농사, 상점, 내정보 버튼 생성
- 내정보
  - 사용자ID, 보유금액, 심은씨앗 갯수 확인 가능

2025.11.27
- 농사
  - 밭 1~5 중 농사를 시작할 밭 선택
  - 밭 2~4 보유 시 버튼 활성화
  - 농사 진행 중일 시 빨간 버튼으로 변경
  - 사용 가능한 밭 선택 시 씨앗 선택 (씨앗 없을 시 오류 메시지)

2025.11.28
- 농사
  - 밭 선택 시 심을 씨앗 선택 가능
  - 작물 성장 쿨타임이 도달 했을 때 개인메시지로 수익, 경험치 등 정보 전달
  - 이미 심은 밭은 비활성화, 선택 시 남은 시간 확인 가능
  - 봇이 꺼지더라도 디비에 쿨타임이 저장, 자동 수확
- 상점
  - 밭 구매 가능
  - 밭 추가 시 점점 밭 가격 상승
- /돈지급 명령어를 통해 돈지급 가능

2025.11.30
- 내정보
  - 이미지로 사용자의 정보 표기


